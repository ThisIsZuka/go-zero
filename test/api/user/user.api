syntax = "v1"

type Request {
	Name string `path:"name,options=you|me"`
}

type Response {
	Message string `json:"message"`
}

type GetUserByIdRequest {
	ID string `json:"id",optional`
}

type GetUserByIdResponse {
	ID       string `json:"id"`
	FNAME    string `json:"fname"`
	LNAME    string `json:"lname"`
	AGE      int32  `json:"age"`
	BDATE    string `json:"bdate"`
	UpdateAt string `json:"updateAt"`
	CreateAt string `json:"createAt"`
}

type User { // โครงสร้างข้อมูลของผู้ใช้ที่จะส่งกลับ
	ID       string `json:"id"`
	FNAME    string `json:"fname"`
	LNAME    string `json:"lname"`
	AGE      int32  `json:"age"`
	BDATE    string `json:"bdate"`
	UpdateAt string `json:"updateAt"`
	CreateAt string `json:"createAt"`
}

type GetAllUserRequest {}

type GetAllUsersResponse {
	Users []User `json:"users"`
}

@server (
	prefix: /v1
	group:  user
)
service user-api {
	@handler UserHandler
	get /from/:name (Request) returns (Response)

	@handler GetUserByIdHandler
	post /getusers (GetUserByIdRequest) returns (GetUserByIdResponse)

	@handler GetAllUserHandler
	get /getallusers (GetAllUserRequest) returns (GetAllUsersResponse)
}

